#!/usr/bin/env bash
################################################################################
#
# Update
#
################################################################################

# Git Submodules
echo && echo "--> Updating Git Submodules"
git submodule foreach git pull origin master

# Homebrew and Homebrew Packages
echo && echo "--> Updating Homebrew and Homebrew Packages"
brewup

# Gems
echo && echo "--> Updating Ruby Gems"
rubyup

# Vimrc
# https://github.com/amix/vimrc
echo && echo "--> Updating Vimrc from https://github.com/amix/vimrc"
pushd $HOME/.vim_runtime > /dev/null
git stash push --keep-index --include-untracked --message "stashing before update"
git pull --rebase
python update_plugins.py
git stash pop
popd > /dev/null

# Spacemacs
# https://github.com/syl20bnr/spacemacs
echo && echo "--> Updating Spacemacs from https://github.com/syl20bnr/spacemacs"
pushd $HOME/.emacs.d > /dev/null
git pull --rebase
popd > /dev/null
