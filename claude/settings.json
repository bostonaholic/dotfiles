{
  "statusLine": {
    "type": "command",
    "command": "input=$(cat); cwd=$(echo \"$input\" | jq -r '.workspace.current_dir'); model=$(echo \"$input\" | jq -r '.model.display_name // \"unknown\"'); ctx_size=$(echo \"$input\" | jq -r '.context_window.context_window_size // 0'); usage=$(echo \"$input\" | jq '.context_window.current_usage // {}'); tokens=$(echo \"$usage\" | jq '(.input_tokens // 0) + (.cache_creation_input_tokens // 0) + (.cache_read_input_tokens // 0)'); ctx=0; [[ $ctx_size -gt 0 ]] && ctx=$((tokens * 100 / ctx_size)); filled=$((ctx / 10)); empty=$((10 - filled)); bar=$(printf '%0.s█' $(seq 1 $filled 2>/dev/null) 2>/dev/null; printf '%0.s░' $(seq 1 $empty 2>/dev/null) 2>/dev/null); [[ $filled -eq 0 ]] && bar=\"░░░░░░░░░░\"; dir=$(echo \"$cwd\" | awk -F'/' '{n=NF; if(n<=2) print $0; else print $(n-1)\"/\"$n}'); [[ \"$cwd\" == \"$HOME\" ]] && dir=\"~\" || [[ \"$cwd\" == \"$HOME\"/* ]] && dir=\"~/${dir}\"; git_info=\"\"; if git -c core.fileMode=false rev-parse --git-dir >/dev/null 2>&1; then branch=$(git -c core.fileMode=false symbolic-ref --short HEAD 2>/dev/null || echo \"detached\"); dirty=\"\"; git -c core.fileMode=false diff --quiet 2>/dev/null && git -c core.fileMode=false diff --cached --quiet 2>/dev/null || dirty=\"*\"; git_info=\" git:($branch$dirty)\"; fi; ctx_color=\"\\033[37m\"; [[ $ctx -gt 30 ]] && ctx_color=\"\\033[33m\"; [[ $ctx -gt 50 ]] && ctx_color=\"\\033[31m\"; printf \"\\033[32m\\$\\033[0m \\033[36m%s\\033[0m%s ${ctx_color}[%s %s%%]\\033[0m \\033[35m%s\\033[0m\" \"$dir\" \"$git_info\" \"$bar\" \"$ctx\" \"$model\""
  },
  "alwaysThinkingEnabled": true,
  "includeCoAuthoredBy": false,
  "env": {
    "MAX_THINKING_TOKENS": "32000"
  },
  "enabledPlugins": {
    "superpowers@superpowers-marketplace": true
  },
  "permissions": {
    "allow": [
      "Bash(awk:*)",
      "Bash(cat:*)",
      "Bash(cut:*)",
      "Bash(date:*)",
      "Bash(df:*)",
      "Bash(diff:*)",
      "Bash(du:*)",
      "Bash(echo:*)",
      "Bash(env:*)",
      "Bash(file:*)",
      "Bash(find:*)",
      "Bash(git:*)",
      "Bash(gh:*)",
      "Bash(grep:*)",
      "Bash(head:*)",
      "Bash(hostname:*)",
      "Bash(id:*)",
      "Bash(less:*)",
      "Bash(ls:*)",
      "Bash(md5:*)",
      "Bash(more:*)",
      "Bash(ps:*)",
      "Bash(pwd:*)",
      "Bash(sed:*)",
      "Bash(sort:*)",
      "Bash(stat:*)",
      "Bash(tail:*)",
      "Bash(tr:*)",
      "Bash(uname:*)",
      "Bash(uniq:*)",
      "Bash(uptime:*)",
      "Bash(wc:*)",
      "Bash(which:*)",
      "Bash(who:*)",
      "Bash(whoami:*)"
    ],
    "deny": [
      "Read(./.env.*)"
    ]
  }
}
