#!/bin/bash
################################################################################
# Git Delete All Tags
#
# DESCRIPTION:
#   Deletes all git tags from all remotes and locally.
#   Useful for cleaning up tag pollution or starting fresh with tags.
#
# USAGE:
#   git deletealltags
#
# WARNING:
#   This is a DESTRUCTIVE operation that will:
#   - Delete ALL tags from ALL remotes
#   - Delete ALL local tags
#   Use with extreme caution, especially on shared repositories!
#
# BEHAVIOR:
#   1. Iterates through all configured remotes
#   2. For each remote, pushes deletion for every tag
#   3. Deletes each tag locally
#
# NOTES:
#   Requires push access to all remotes.
#   Cannot be easily undone - use with caution!
#
################################################################################

set -eu -o pipefail

for r in $(git remote)
do
    for t in $(git tag)
    do
        git push "$r" :"$t"
        git tag -d "$t"
    done
done
